
==========
设备控制
==========

接口描述
========

用于向服务器发出控制指定设备的命令

请求说明
========

**HTTP方法：**  POST

**请求URL:**   http://www.writebug.site/api/lock

**URL参数：**

*Header*

+---------------+------------------+
|     参数      |        值        |
+===============+==================+
| Authorization | Bear token       |
+---------------+------------------+
| Content-Type  | application/json |
+---------------+------------------+

*Body*

放置JSON包，其节点详情如下：

+-------------+----------+--------+--------------------------------------------------------------------------------+
|    参数     | 是否必选 |  类型  |                                      说明                                      |
+=============+==========+========+================================================================================+
| SubserverId | 是       | Sting  | 子服务器的唯一标识                                                             |
+-------------+----------+--------+--------------------------------------------------------------------------------+
| deviceIP    | 是       | String | 设备在子服务器局域网下的IP，发送给子服务器，子服务器会根据IP向指定设备发送命令 |
+-------------+----------+--------+--------------------------------------------------------------------------------+



**请求示例：**

.. code-block:: json

    {
            "subserverId":"b98774f1-3406-400f-8e51-407abe4d79f0",
            "deviceIP":"192.168.1.1",
    }

返回说明
========

**返回类型：** JSON

**返回参数：**：

+------------+----------+------+------+----------+
|  返回参数  | 是否必选 | 类型 |  值  |   说明   |
+============+==========+======+======+==========+
| error_code | string   | 是   | 2000 | 发送成功 |
+------------+----------+------+------+----------+


**返回示例：**

.. code-block:: json

    {
            "error_code":"2000",
            "msg":"ControlMsg send success"
    }

错误码说明
==========

+------------+------------------------------------------------------+---------------------------+
| Error_code |                         msg                          |           说明            |
+============+======================================================+===========================+
| 2001       | Subserver offline                                    | 子服务器离线              |
+------------+------------------------------------------------------+---------------------------+
| 2002       | MAC contains dangerous characters                    | SubserverId包含危险字符   |
+------------+------------------------------------------------------+---------------------------+
| 2003       | Token contains dangerous characters                  | Token包含危险字符         |
+------------+------------------------------------------------------+---------------------------+
| 2004       | Token does not exist                                 | Token无效                 |
+------------+------------------------------------------------------+---------------------------+
| 2005       | SubserverId                                          | SubserverId不可用         |
+------------+------------------------------------------------------+---------------------------+
| 2006       | DeviceIP                                             | DeviceIP不可用            |
+------------+------------------------------------------------------+---------------------------+
| 2007       | You do not have permission to operate this subserver | Token对该子服务器无权限。 |
+------------+------------------------------------------------------+---------------------------+
| 2008       | deviceip contains dangerous characters               | 设备IP包含危险字符        |
+------------+------------------------------------------------------+---------------------------+
| 2009       | Json format error                                    | json格式不正确            |
+------------+------------------------------------------------------+---------------------------+
		
		
		
		
		
		
